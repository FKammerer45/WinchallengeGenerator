{% extends "base.html" %}
{% from "_form_helpers.html" import render_field %} {# Optional: Import macro #}

{% block title %}Confirm Account Deletion{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Confirm Account Deletion</h2>

    {# Display flashed messages #}
    {% include '_flash_messages.html' ignore missing %}

    <div class="alert alert-danger" role="alert">
        <strong>Warning!</strong> Are you sure you want to permanently delete your account? 
        This action cannot be undone. All your saved tabs and challenge data will be lost.
    </div>

    <form method="POST" action="{{ url_for('auth.delete_account') }}">
        {{ form.hidden_tag() }} {# CSRF token #}

        <p>To confirm, please enter your current password:</p>
        
        <div class="mb-3">
            {{ render_field(form.password, class="form-control", placeholder="Enter your current password") }}
        </div>

        {{ form.submit(class="btn btn-danger") }} {# Use danger button style #}
        <a href="{{ url_for('main.index') }}" class="btn btn-secondary">Cancel</a> {# Add a cancel button #}
    </form>
</div>
{% endblock %}
