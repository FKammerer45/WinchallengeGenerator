{% extends "base.html" %}
{% from "_form_helpers.html" import render_field %} {# Optional: Import macro #}

{% block title %}Change Password{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Change Your Password</h2>

    {# Display flashed messages #}
    {% include '_flash_messages.html' ignore missing %}

    <form method="POST" action="{{ url_for('auth.change_password') }}">
        {{ form.hidden_tag() }} {# CSRF token #}

        {# Render fields using WTForms (Macro example) #}
        <div class="mb-3">
            {{ render_field(form.current_password, class="form-control", placeholder="Enter your current password") }}
        </div>
        <div class="mb-3">
            {{ render_field(form.new_password, class="form-control", placeholder="Enter new password (min 6 chars, 1 letter, 1 number)") }}
        </div>
        <div class="mb-3">
            {{ render_field(form.confirm_new_password, class="form-control", placeholder="Confirm your new password") }}
        </div>

        {{ form.submit(class="btn btn-primary") }}
    </form>
</div>
{% endblock %}
