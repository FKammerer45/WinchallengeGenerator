<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Win Challenge Overlay</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Fira+Code&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pages/overlay.css') }}">

    <style>
        /* Ensure transparency for OBS */
        body {
            background-color: transparent;
            color: #ffffff;
            /* Default text color - adjust in overlay.css */
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            /* Prevent scrollbars */
            margin: 0;
            padding: 10px;
            /* Add some padding */
        }

        /* Basic visibility */
        .hidden {
            display: none !important;
        }
    </style>
</head>

<body>
    <div id="overlay-container" class="container-fluid">

        <div id="overlay-status" class="overlay-status-indicator hidden">
            <span id="status-icon"><i class="bi bi-exclamation-triangle-fill"></i></span>
            <span id="status-message">Connecting...</span>
        </div>

        <h1 id="challenge-title" class="challenge-title">Loading Challenge...</h1>

        <div id="timer-display" class="timer-display">00:00:00</div>

        <div id="streamer-progress-bar-container" class="progress-bar-container mb-2">
            <div class="progress-label small">Your Progress: <span class="value">--%</span></div>
            <div class="progress" style="height: 10px;">
                <div id="streamer-progress-bar" class="progress-bar" role="progressbar" style="width: 0%;"
                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
        </div>

        <div id="rules-list" class="rules-list mb-2">
            <p class="loading-text">Loading rules...</p>
        </div>

        <div id="other-groups-progress" class="other-groups-progress mb-2">
            <h6 class="section-title small">Other Groups:</h6>
            <ul id="other-groups-list" class="list-unstyled">
                <li class="loading-text small">Loading...</li>
            </ul>
        </div>

        <div id="active-penalty" class="active-penalty hidden">
            <span class="label">Penalty:</span>
            <span id="active-penalty-text" class="text"></span>
        </div>

        <div id="penalty-wheels-container" class="penalty-wheels-container hidden">
            <div id="player-wheel-wrapper">
                <h6 class="wheel-title small">Selecting Player...</h6>
                <canvas id="playerWheelCanvas-overlay" width="150" height="150">Canvas not supported</canvas>
            </div>
            <div id="penalty-wheel-wrapper">
                <h6 class="wheel-title small">Selecting Penalty...</h6>
                <canvas id="penaltyWheelCanvas-overlay" width="200" height="200">Canvas not supported</canvas>
            </div>
            <div id="penalty-result-display" class="penalty-result small"></div>
        </div>

    </div>



    <!-- 1) Socket.IO -->
    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
    <!-- 2) GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
    <!-- 3) Winwheel.js from GitHub -->
    <script src="https://cdn.jsdelivr.net/gh/zarocknz/javascript-winwheel@2.7.0/Winwheel.min.js"></script>
    <!-- 4) Your overlay logic -->
    <script type="module" src="{{ url_for('static', filename='js/overlay.js') }}"></script>



</body>

</html>