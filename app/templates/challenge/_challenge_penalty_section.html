{# app/templates/challenge/_challenge_penalty_section.html #}
{# Expects: players (list of names for wheel), penalty_tab_id, challenge_index ('shared') #}

{# Button to trigger penalty assignment #}
<div class="text-center mb-3">
    <button class="btn btn-warning lostGameBtn-Shared" {# Unique class #}
            data-penalty-tab-id="{{ penalty_tab_id }}"
            data-players="{{ players|tojson|safe }}" {# Pass current group names as JSON #}
            title="Click if a game was lost">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-exclamation-triangle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 5zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>
        Lost Game - Assign Penalty
    </button>
</div>

{# Containers for the wheels (initially hidden) #}
<div class="row justify-content-center mt-3">
    <div class="col-md-5 text-center wheel-container" id="playerWheelContainer-{{ challenge_index }}" style="display: none;">
        <h6 class="text-muted" id="playerWheelTitle-{{ challenge_index }}">Selecting Participant...</h6>
        <canvas id="playerWheelCanvas-{{ challenge_index }}" width="300" height="300">Canvas not supported</canvas>
        <div class="wheel-pointer"></div>
    </div>
    <div class="col-md-5 text-center wheel-container" id="penaltyWheelContainer-{{ challenge_index }}" style="display: none;">
        <h6 class="text-muted">Selecting Penalty...</h6>
        <canvas id="penaltyWheelCanvas-{{ challenge_index }}" width="300" height="300">Canvas not supported</canvas>
        <div class="wheel-pointer"></div>
    </div>
</div>

{# Display area for the penalty result #}
<div id="penaltyResult-{{ challenge_index }}" class="mt-3 penalty-result-display" style="display: none;"></div>