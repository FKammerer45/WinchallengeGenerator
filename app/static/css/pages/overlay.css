/* static/css/overlay.css */

/* Define CSS variables for easy theming */
:root {
    --overlay-bg-color: rgba(15, 25, 45, 0.88); /* Slightly more opaque */
    --overlay-text-color: #e8e8e8;
    --overlay-text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
    --overlay-accent-color: #00e5ff; /* Bright cyan accent */
    --overlay-progress-bar-bg: rgba(0, 0, 0, 0.4);
    --overlay-progress-bar-fill: var(--overlay-accent-color);
    --overlay-font-main: 'Inter', sans-serif;
    --overlay-font-mono: 'Fira Code', monospace;
    --overlay-border-radius: 8px; /* Slightly larger radius */
    --overlay-error-bg: rgba(220, 53, 69, 0.9);
    --overlay-error-text: #ffffff;
    --overlay-success-bg: rgba(25, 135, 84, 0.9);
    --overlay-success-text: #ffffff;
    --overlay-warning-bg: rgba(255, 193, 7, 0.9);
    --overlay-warning-text: #212529;
    --overlay-base-font-size: 17px; /* Increased base font size */
}

/* Apply base styles */
body {
    background-color: transparent !important;
    color: var(--overlay-text-color);
    font-family: var(--overlay-font-main);
    text-shadow: var(--overlay-text-shadow);
    margin: 0;
    padding: 0;
    overflow: hidden !important; /* Hide body scrollbars */
    font-size: var(--overlay-base-font-size); /* Use base font size */
    line-height: 1.5; /* Improved line height */
}

#overlay-container {
    background-color: var(--overlay-bg-color);
    border-radius: var(--overlay-border-radius);
    padding: 20px; /* Increased padding */
    box-shadow: 0 6px 25px rgba(0, 0, 0, 0.6);
    max-width: 550px; /* Keep it reasonably wide */
    border: 1px solid rgba(255, 255, 255, 0.1);
    height: 100vh; /* Ensure it fills OBS source height */
    box-sizing: border-box;
    display: flex;
    flex-direction: column; /* Stack elements vertically */
}

/* Status Indicator */
.overlay-status-indicator {
    padding: 5px 10px;
    border-radius: var(--overlay-border-radius);
    margin-bottom: 15px; /* More space below */
    font-size: 0.9em;
    font-weight: 500;
    text-shadow: none;
    display: inline-flex; /* Use inline-flex */
    align-items: center;
    transition: opacity 0.5s ease-in-out, height 0.3s ease, padding 0.3s ease, margin 0.3s ease; /* Smooth hide */
}
.overlay-status-indicator.hidden {
    opacity: 0;
    pointer-events: none;
    margin-bottom: 0;
    padding-top: 0;
    padding-bottom: 0;
    height: 0;
    border: none; /* Hide border when hidden */
 }
.overlay-status-indicator:not(.hidden) { opacity: 1; }
.overlay-status-indicator .bi { margin-right: 6px; font-size: 1.2em; }
.overlay-status-indicator .spinner-border-sm { width: 1em; height: 1em; border-width: 0.18em; margin-right: 6px; }
/* Default error style */
.overlay-status-indicator { background-color: var(--overlay-error-bg); color: var(--overlay-error-text); border: 1px solid rgba(255,255,255,0.1); }
.overlay-status-indicator.connected { background-color: var(--overlay-success-bg); color: var(--overlay-success-text); border-color: rgba(255,255,255,0.2); }
.overlay-status-indicator.connecting { background-color: rgba(108, 117, 125, 0.8); color: #fff; border-color: rgba(255,255,255,0.1); }


.challenge-title {
    font-size: 1.8em; /* Larger title */
    font-weight: 700;
    color: #ffffff;
    margin-bottom: 0.8em; /* More space below */
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    padding-bottom: 0.6em;
    word-break: break-word; /* Prevent long titles overflowing */
}

.timer-display {
    font-family: var(--overlay-font-mono);
    font-size: 2em; /* Larger timer */
    font-weight: 500;
    margin-bottom: 0.8em;
    color: #fff;
}

.progress-bar-container .progress-label {
    color: #ccc;
    margin-bottom: 4px;
    font-size: 0.9em;
}
.progress-bar-container .progress-label .value {
    color: #fff;
}
.progress-bar-container .progress {
    background-color: var(--overlay-progress-bar-bg);
    border-radius: var(--overlay-border-radius);
    overflow: hidden;
    height: 12px; /* Make bar slightly thicker */
}
.progress-bar-container .progress-bar {
    background-color: var(--overlay-progress-bar-fill);
    transition: width 0.4s ease-in-out;
}

/* Rules List Styling & Scrollbar Hiding */
.rules-list {
    flex-grow: 1; /* Allow this section to take up remaining vertical space */
    overflow-y: auto; /* Enable vertical scrolling internally */
    padding: 10px 15px; /* More horizontal padding */
    background-color: rgba(0,0,0,0.25); /* Darker background */
    border-radius: var(--overlay-border-radius);
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin-bottom: 20px; /* More space below */

    /* --- Hide Scrollbar --- */
    /* Firefox */
    scrollbar-width: none;
    /* IE and Edge */
    -ms-overflow-style: none;
}
/* Webkit (Chrome, Safari, Edge Chromium) */
.rules-list::-webkit-scrollbar {
    display: none; /* Hide scrollbar */
}
.rules-list .section-title { /* Style section titles within the list */
    font-weight: 600;
    color: #ccc;
    margin-top: 5px; /* Space above title */
    margin-bottom: 8px;
    text-transform: uppercase;
    font-size: 0.8em;
    letter-spacing: 0.5px;
    padding-bottom: 4px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}
.rules-list .progress-item {
    display: flex;
    align-items: center;
    margin-bottom: 8px; /* More space between items */
    padding: 8px 10px; /* More padding */
    border-radius: 5px;
    transition: background-color 0.3s ease, opacity 0.3s ease;
    font-size: 1.05em; /* Larger rule text */
    border-bottom: 1px solid rgba(255, 255, 255, 0.05); /* Subtle separator */
    background-color: rgba(255, 255, 255, 0.03); /* Subtle item background */
}
.rules-list .progress-item:last-child {
    border-bottom: none;
}
.rules-list .progress-item.completed {
    background-color: rgba(0, 217, 255, 0.2); /* Use accent color tint */
    text-decoration: line-through;
    opacity: 0.7;
}
.rules-list .progress-item .checkbox-icons {
    margin-right: 10px; /* More space */
    font-size: 1.2em; /* Bigger icons */
    line-height: 1;
    color: #aaa;
    flex-shrink: 0; /* Prevent icons shrinking */
}
.rules-list .progress-item .checkbox-icons .bi-check-square-fill {
     color: var(--overlay-accent-color);
}
.rules-list .rule-text {
    word-break: break-word; /* Allow long text to wrap */
}


.other-groups-progress .section-title {
    font-weight: 600;
    color: #ccc;
    margin-bottom: 5px;
    text-transform: uppercase;
    font-size: 0.85em;
    letter-spacing: 0.5px;
    padding-bottom: 3px;
}
.other-groups-progress ul {
    padding-left: 0;
    font-size: 0.9em;
}
.other-groups-progress li {
    display: flex;
    justify-content: space-between;
    margin-bottom: 4px;
    color: #bbb;
    padding: 3px 0;
}
.other-groups-progress li .percentage {
    font-weight: bold;
    color: #fff;
}

.active-penalty {
    background-color: var(--overlay-warning-bg);
    color: var(--overlay-warning-text);
    border: 1px solid rgba(255, 193, 7, 0.6);
    padding: 10px 15px; /* More padding */
    border-radius: var(--overlay-border-radius);
    margin-top: 15px; /* More space above */
    font-size: 1em; /* Larger text */
    text-shadow: none;
    display: flex;
    align-items: center;
}
.active-penalty .label {
    font-weight: bold;
    margin-right: 8px;
}
.active-penalty .bi { /* Style icon */
     margin-right: 10px;
     font-size: 1.3em;
}

.penalty-wheels-container {
    display: flex;
    justify-content: space-around;
    align-items: flex-start;
    margin-top: 15px;
    background-color: rgba(0,0,0,0.25);
    padding: 15px;
    border-radius: var(--overlay-border-radius);
    border: 1px solid rgba(255, 255, 255, 0.1);
}
.penalty-wheels-container .wheel-title {
    text-align: center;
    margin-bottom: 8px;
    font-weight: bold;
    color: #ccc;
    font-size: 0.85em;
    text-transform: uppercase;
}
.penalty-wheels-container canvas { display: block; margin: 0 auto; }
.penalty-result {
    text-align: center;
    margin-top: 10px;
    font-weight: bold;
    color: var(--overlay-accent-color);
    padding: 8px;
    background-color: rgba(0,0,0,0.4);
    border-radius: 5px;
    font-size: 1em; /* Larger result text */
}

.hidden { display: none !important; }
.loading-text { color: #999; font-style: italic; }
