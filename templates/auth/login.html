{% extends "base.html" %}

{% block title %}Login - Win Challenge Generator{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2>Login</h2>
  <form method="post" action="{{ url_for('auth.login') }}">
    <!-- CSRF token for security -->
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    
    <!-- Username field -->
    <div class="form-group">
      <label for="username">Username:</label>
      <input 
        type="text" 
        class="form-control" 
        id="username" 
        name="username" 
        required 
        placeholder="Enter your username">
    </div>
    
    <!-- Password field -->
    <div class="form-group">
      <label for="password">Password:</label>
      <input 
        type="password" 
        class="form-control" 
        id="password" 
        name="password" 
        required 
        placeholder="Enter your password">
    </div>
    
    <!-- reCAPTCHA widget -->
    <div class="form-group">
      <div class="g-recaptcha" data-sitekey="{{ config['RECAPTCHA_PUBLIC_KEY'] }}"></div>
    </div>
    
    <!-- Submit button -->
    <button type="submit" class="btn btn-primary">Login</button>
  </form>
  
  <!-- Link to registration page -->
  <p class="mt-3">
    Don't have an account? 
    <a href="{{ url_for('auth.register') }}">Register here</a>.
  </p>
</div>
{% endblock %}

{% block scripts %}
  <!-- Load reCAPTCHA Enterprise script asynchronously -->
  <script src="https://www.google.com/recaptcha/enterprise.js" async defer></script>
{% endblock %}
